# TWELITE STAGE APP - 改定履歴
TWELITE STAGE 配布パッケージに含まれる TWELITE STAGE APP の改訂履歴です。



# 0.9.8 - 2020/10/09

### 主要な機能追加・修正

- ビューア＞コマンダーの追加 
  - 標準アプリ 0x80 コマンド
  - NOTICE PALのLED制御 (App_Wingsにコマンドを送付)
- ビューア＞PALビューアのNOTICE PAL対応。
- Actエクストラのメニューを追加
  - Act_samplesより高度なもの
  - 外部のオープンソースライブラリ（センサー手続きなど）を利用したもの
- マウスによる操作を拡大 (リスト、ボタン、タブ)
  - マウス移動でフォーカス、左クリックで確定、右クリックは[ESC]キー入力
- 画面表示負荷の低減
  - アプリケーションがバックグラウンドの時はスクリーンセーバーを無効にした
  - アプリケーションがバックグラウンドの時は、描画回数を減らして CPU 負荷を減らした
- ビルドプロジェクト(Act, TWE_Apps, Actエクストラ)の一覧の機能強化
  - 項目選択時に下部に概要を表示 (000desc.txtを読み込む。TWE_Descクラスにより処理)
  - プロジェクトフォルダを開く（またはVSCodeで開く)機能
  - 関連ウェブサイトを開く機能
  - ALt+Shift+m mwxライブラリ、Alt+Shift+t twesettingsライブラリを開く機能
  - ビルドメニュー中で選択中のフォルダやビルドエラーファイルを開けるようにした。
- ログ（シリアルポート入出力）機能の追加
  - (Alt/Cmd+L)でログの開始・終了
  - ログファイルを {TWELITE_Stage 実行形式のあるディレクトリ}/log に格納
  - ファイル名は twestage_{日付-時刻}.log
  - Shift+Alt/Cmd+L でログファイルディレクトリを開く
- その他、変更・修正など
  - シリアル(FTDI)デバイス名、IDの表示方法を変更
  - App_UARTでインタラクティブモードに遷移しなかった問題を修正
  - ディレクトリドロップ時の挙動を変更した (これまではバイナリ書き込みになる場合があったが、メニュー遷移とした)
  - ターミナル長押し時[C]でリセットに加え、画面クリアするようにした。



# 0.9.2 - 2020/08/05

### 主要な機能追加

* フォルダを開く際に code (マイクロソフト社のVisual Studio Code) コマンドを使えるようにした

  * [設定＞アプリ書換＞codeでフォルダを開く] にて設定が必要です。
  * macOS では事前に Cmd+Shift+P で [Shell Command: Install ‘code’ command in PATH] を実行しておく必要があります。

* Alt/Cmd+Ctrl+Shift+M で mwx ライブラリソースフォルダを、+Tで twesettings フォルダを code で開くようにした。

  

### その他の修正

* Alt/Cmd+0 でヘルプ画面が崩れる問題を修正した
* コンパイル対象ソースファイル抽出のためのメッセージ解釈アルゴリズムを単純化した
* フォーカスがない場合はヘルプ画面や半透明ボタン([ A ] [ B ] [ C ])へのイベント伝達を行わないようにした
* TWELITE_Stage: 10ドットフォントは常用文字入りの文字セットをロードするようにした



# 0.9.1 - 2020/07/31

### 主要な機能追加

* ログファイルの出力機能を追加した (Alt/Cmd+L で開始＆終了)
  * 終了時にはログファイルを開く
  * ログファイルの格納ディレクトリを開く (Shift+Alt/Cmd+L)
  * ログファイルは{実行形式が格納されるディレクトリ}/log
* ターミナルとインタラクティブモードの下部メニューに機能追加した
  * 直前の書き換えメニューへ遷移する
  * ソースコードのディレクトリを表示する
* ビルド時の下部メニューに機能を追加した
  * エラー・ワーニングメッセージを表示する (.../build/builderr.log)
  * ソースディレクトリを表示する



### その他の修正

* コンソール画面の制御を変更した（コンソール画面上のスクロールバッファを利用できるようにするため）
  * 内部ターミナルの制御を行わず、そのまま出力する
  * macOSでコンパイル時の表示が行われない場合があった問題を修正
  * macOSでcursesに依存していたコードをtermiosに書き換え
* アプリケーションがバックグラウンドになったときは画面の書き換え回数を減らすようにした（CPU負荷の低減）

* TWELITE_Stage の実行形式は MWSTAGE/TWELITE_Stage だが、MWSTAGE/MWSDK/mwstage といった、MWSDKより一つだけ深い階層に格納できるようにした
* スクリーンセーバが無効であったが、アプリケーションがバックグラウンド時に、スクリーンセーバの制御を行うようにした
* フォントソース生成スクリプトを追加し BDF ファイルから、必要な字数を抽出して登録できるようにした（小規模のマイコンボードなどでの消費ROMを削減する目的と、決め打ちの文字セットでは必要な文字が含まれない問題を解決するための対応）
* 問題の修正：ドラッグアンドドロップしたディレクトリに対して、再書き込みメニュー選択時にビルドにならない
* 問題の修正：書き込み時にモジュールリセットなどでハングアップする場合があった
* 問題の修正：ディレクトリ選択時にハングアップする場合があった





# 0.8.9 - MWSTAGE2020_05

2020/05月リリースに添付されていたバイナリです。